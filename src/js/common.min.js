if(void 0===myEventManager){var myRequiredFields={},myEventManager={__myTrackAllAddedEvents:{},__addEventRegister:function(a,b){void 0===this.__myTrackAllAddedEvents[a]&&(this.__myTrackAllAddedEvents[a]=[]),-1==this.__myTrackAllAddedEvents[a].indexOf(b)&&(this.__myTrackAllAddedEvents[a][this.__myTrackAllAddedEvents[a].length]=b)},start:function(){try{for(var b=[HTMLElement],c=this,a=0;a<b.length;a++)!function(d){b[a].prototype.addEventListener=function(a,b,e){return(this&&this.id&&c.__addEventRegister(this.id,arguments[0]),this.attachEvent)?(arguments[0]="on"+arguments[0],this.attachEvent.apply(this,arguments)):d.apply(this,arguments)}}(b[a].prototype.addEventListener)}catch(d){}},fire:function(b,c){var a;elemento=document.getElementById(c),document.createEvent?(a=document.createEvent("Events")).initEvent(b,!0,!0):(a=document.createEventObject()).eventType=b,a.eventName=b,document.createEvent?elemento.dispatchEvent(a):elemento.fireEvent("on"+a.eventType,a)},fireAll:function(a){for(var c=document.getElementById(a),b=0;b<c.attributes.length;b++)c.attributes[b].name&&0==c.attributes[b].name.indexOf("on")&&isNaN(c.attributes[b].value)&&this.__addEventRegister(a,c.attributes[b].name.substr(2));if(this.__myTrackAllAddedEvents[a]&& void 0!==this.__myTrackAllAddedEvents[a])for(var d=0;d<this.__myTrackAllAddedEvents[a].length;d++)this.fire(this.__myTrackAllAddedEvents[a][d],a)},add:function(b,c,a){a?a.id&&this.__addEventRegister(a.id,b):a=window,window.addEventListener?a.addEventListener(b,c,!1):window.attachEvent&&a.attachEvent("on"+b,c)}};function startStopForm(element,funzione){try{window.addEventListener?element.form.addEventListener("submit",function(a){return!0==element.disabled&&a.preventDefault&&a.preventDefault(),funzione(element)},!1):window.attachEvent&&element.form.attachEvent("onsubmit",funzione(element))}catch(Exception){}}function myGetXmlHttpObject(){var objMyXmlHttp=null;if(window.XMLHttpRequest)objMyXmlHttp=new window.XMLHttpRequest;else{if(null==objMyXmlHttp)try{objMyXmlHttp=new ActiveXObject("MSXML3.XMLHTTP")}catch(Exception){objMyXmlHttp=null}if(null==objMyXmlHttp)try{objMyXmlHttp=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(Exception){objMyXmlHttp=null}if(null==objMyXmlHttp)try{objMyXmlHttp=new ActiveXObject("Msxml2.XMLHTTP")}catch(Exception){objMyXmlHttp=null}if(null==objMyXmlHttp)try{objMyXmlHttp=new ActiveXObject("Microsoft.XMLHTTP")}catch(Exception){objMyXmlHttp=null}}return objMyXmlHttp}function addOptionsFromXml(x,element){for(var i=0;i<x.length;i++){var opt=document.createElement("option");if(x[i].childNodes[0]&&x[i].childNodes[0].nodeValue?opt.text=""+x[i].childNodes[0].nodeValue:opt.text="",x[i].attributes)for(var j=0;j<x[i].attributes.length;j++)opt.setAttribute(x[i].attributes[j].nodeName,x[i].attributes[j].nodeValue);element.appendChild(opt)}}function selectOptionsSetFromXml(element,xml){try{if(window.DOMParser)xmlDoc=new DOMParser().parseFromString(xml,"text/xml");else{var xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=!1,xmlDoc.loadXML(xml)}if(!xmlDoc||!xmlDoc.firstChild)return!1}catch(err){return!1}try{if(element.childNodes)for(;element.firstChild;)element.removeChild(element.firstChild)}catch(err){return alert(err),!1}var x=xmlDoc.getElementsByTagName("select")[0];if(!x)return!1;for(var x=x.childNodes,i=0;i<x.length;i++){if("optgroup"==x[i].nodeName.trim()){var opt=document.createElement("optgroup");if(x[i].attributes)for(var j=0;j<x[i].attributes.length;j++)opt.setAttribute(x[i].attributes[j].nodeName,x[i].attributes[j].nodeValue);x[i].childNodes&&addOptionsFromXml(x[i].childNodes,opt),element.add(opt,element.options[null])}if("option"==x[i].nodeName.trim()){var opt=document.createElement("option");if(x[i].childNodes[0]&&x[i].childNodes[0].nodeValue?opt.text=""+x[i].childNodes[0].nodeValue:opt.text="",x[i].attributes)for(var j=0;j<x[i].attributes.length;j++)opt.setAttribute(x[i].attributes[j].nodeName,x[i].attributes[j].nodeValue);element.add(opt,element.options[null])}}return element.options.selectedIndex=0,!0}function myCheckAll(value,rule){for(var inputs=document.getElementsByTagName("input"),i=0;i<inputs.length;i++)"checkbox"==inputs[i].type&&rule(inputs[i])&&(inputs[i].checked=value)}function checkKeycode(e){return window.event?keycode=window.event.keyCode:e&&(keycode=e.which),keycode}function MyTabulazione(campo){if(!(keycode<33||keycode>126)){var trovato=!1;for(j=0;j<document.forms.length&&!trovato;){for(i=0;i<document.forms[j].elements.length&&!trovato;){if(document.forms[j].elements[i].id==campo.id){trovato=!0,i++;break}i++}!trovato&&j++}if(trovato)for(;j<document.forms.length;){for(;i<document.forms[j].elements.length;)if(null==document.forms[j].elements[i].type||"hidden"==document.forms[j].elements[i].type||document.forms[j].elements[i].readonly||"label"==document.forms[j].elements[i].tagName||"none"==document.forms[j].elements[i].style.display)i++;else try{document.forms[j].elements[i].focus();return}catch(err){i++}j++}}}function isUndefined(x){return void 0===x}var myMultiTextJSElements={};function myMultiTextJSrefresh(idx){for(var sel=document.getElementById(idx.ids[0]),disp="none",values=new Array,i=0;i<sel.options.length-1;i++)(isUndefined(sel.options[i].text)||""==trim(sel.options[i].text)||null==trim(sel.options[i].text))&&(sel.options[i].text=sel.options[i+1].text,sel.options[i].value=sel.options[i+1].value,sel.options[i+1].text="",sel.options[i+1].value="");for(var i=0;i<sel.options.length;i++)isUndefined(sel.options[i].text)||""==trim(sel.options[i].text)||null==trim(sel.options[i].text)||(disp="inline",values[values.length]=sel.options[i].text);"none"==disp&&(sel.selectedIndex=0),sel.style.display=disp,document.getElementById(idx.ids[1]).value=implode(idx.separator,values)}function myMultiTextJSPreset(idx){var sel=document.getElementById(idx.ids[0]);if(null!=sel){myMultiTextJSrefresh(idx);for(var i=sel.options.length-1;i>=0;i--)if(isUndefined(sel.options[i].text)||""==trim(sel.options[i].text)||null==trim(sel.options[i].text))sel.selectedIndex=i;else{var selected=idx.onupdate(sel.options[i].text);sel.options[i].text=selected[0],sel.options[i].value=null==selected[1]|| void 0==selected[1]?selected[0]:selected[1]}for(;sel.selectedIndex>0&&(isUndefined(sel.options[sel.selectedIndex-1].text)||""==trim(sel.options[sel.selectedIndex-1].text)||null==trim(sel.options[sel.selectedIndex-1].text));)sel.selectedIndex--}}function myMultiTextJS(idTesto,idx,operazione){return"add"==operazione?this.add_myMultiTextJS(idTesto,idx):"remove"==operazione?this.del_myMultiTextJS(idTesto,idx):void 0}function myMultiTextJSkeypress(e,idHidden,selector,text,me){var keynum;if(window.event?keynum=e.keyCode:e.which&&(keynum=e.which),"select"==me.tagName.toLowerCase()){if(46==keynum)return del_myMultiTextJS(selector.id,myMultiTextJSElements[idHidden]);if(13!=keynum)return!0;text.value=trim(myMultiTextJSElements[idHidden].onupdate(selector.options[selector.selectedIndex].text,selector.options[selector.selectedIndex].value)[0]),text.focus()}if("text"==me.type){if(13!=keynum)return!0;add_myMultiTextJS(text.id,myMultiTextJSElements[idHidden])}try{e.cancelBubble?e.cancelBubble=!0:e.stopPropagation()}catch(Exception){}return!1}function del_myMultiTextJS(idTesto,idx){var sel=document.getElementById(idx.ids[0]);if(isUndefined(sel.selectedIndex)||isUndefined(sel.options[sel.selectedIndex].text)||""==trim(sel.options[sel.selectedIndex].text)||null==trim(sel.options[sel.selectedIndex].text))return alert(idx.messaggi.assente),!1;try{idx.ondelete(sel.options[sel.selectedIndex].text);for(var j=sel.selectedIndex,i=j;i<sel.options.length-1;i++)sel.options[i].text=sel.options[i+1].text,sel.options[i].value=sel.options[i+1].value;sel.options[i].text="",sel.options[i].value="",myMultiTextJSrefresh(idx)}catch(Exception){}return!0}function add_myMultiTextJS(idTesto,idx){var testo=document.getElementById(idTesto).value;if(""==trim(testo)||null==trim(testo))return!1;for(var sel=document.getElementById(idx.ids[0]);sel.selectedIndex>0&&(isUndefined(sel.options[sel.selectedIndex-1].text)||""==trim(sel.options[sel.selectedIndex-1].text)||null==trim(sel.options[sel.selectedIndex-1].text));)sel.selectedIndex--;try{for(var selected=idx.onupdate(testo),libero=!1,i=0;i<sel.options.length;i++){if(trim(sel.options[i].text)==selected[0])return alert(idx.messaggi.inelenco),!1;(void 0==sel.options[i].text||""==trim(sel.options[i].text)||null==trim(sel.options[i].text))&&(libero=!0)}if(!libero)return alert(idx.messaggi.pieno),!1;for(var i=sel.options.length-1;i>sel.selectedIndex;i--)sel.options[i].text=sel.options[i-1].text,sel.options[i].value=sel.options[i-1].value;sel.options[sel.selectedIndex].text=selected[0],sel.options[sel.selectedIndex].value=null==selected[1]||isUndefined(selected[1])?selected[0]:selected[1]}catch(Exception){return}for(var i=0;i<sel.options.length;i++)i!=sel.selectedIndex&&sel.options[i].text==testo&&(sel.options[i].text="");sel.selectedIndex++,document.getElementById(idTesto).value="",myMultiTextJSrefresh(idx)}function abs(s){return null==s?s:Math.abs(s)}function mt_rand(min,max){return min&&max||(max=1,min=0),Math.round(Math.random()*(max-min))+min}function rand(min,max){return mt_rand(min,max)}function round(s,decimali){return null==s?s:(decimali||(decimali=0),Math.round(s*Math.pow(10,decimali))/Math.pow(10,decimali))}function min(){var min;if(0==arguments.length)return null;for(i=1,min=arguments[0];i<arguments.length;i++)min<arguments[i]&&(min=arguments[i]);return min}function max(){var max;if(0==arguments.length)return null;for(i=1,max=arguments[0];i<arguments.length;i++)max>arguments[i]&&(max=arguments[i]);return max}function strtolower(s){return null==s|| void 0==s?s:s.toLowerCase()}function strtoupper(s){return null==s|| void 0==s?s:s.toUpperCase()}function ucfirst(s){return null==s|| void 0==s?s:strtoupper(substr(s,0,1))+substr(s,1,s.length)}function strlen(s){return null==s|| void 0==s?0:s.length}function ucwords(s){if(null==s|| void 0==s)return s;for(i=0,parti=s.split(" ");i<s.length;i++)parti[i]&&(parti[i]=ucfirst(parti[i]));return parti.join(" ")}function str_replace(cosa,con,dove){if(null==dove|| void 0==dove||0==dove.length)return dove;for(;;){if(nuova=dove.replace(cosa,con),dove==nuova)return dove;dove=nuova}}function str_ireplace(cosa,con,dove){return null==dove|| void 0==dove||null==cosa|| void 0==cosa||null==con|| void 0==con?null:str_replace(cosa=eval("/"+cosa+"/i"),con,dove)}function substr(s,from,ncar){return null==s|| void 0==s?s:s.substring(from,from+ncar)}function strpos(s,cosa,offset){return null==s|| void 0==s?-1:s.indexOf(cosa,offset+0)}function spad(s,car,lunghezza){if(null==s)return s;for(s+="";s.length<lunghezza;)s=car+s;return s}function trim(s){return null==s|| void 0==s||""==s.length?s:s.replace(/^\s+|\s+$/g,"")}function explode(separatore,s,limit){return null==s|| void 0==s?null:limit?s.split(separatore,limit):s.split(separatore)}function implode(separatore,s){return null==s|| void 0==s?null:s.join(separatore)}function preg_match(preg,s){return null==s?null:(eval("preg="+preg+";"),null!=s.match(preg))}function in_array(cosa,dove){if(null==dove|| void 0==dove||null==cosa|| void 0==cosa)return null;for(var i=0;i<dove.length;i++)if(dove[i]==cosa)return!0;return!1}function is_array(cosa){return null==cosa|| void 0==cosa?null:-1!=cosa.constructor.toString().indexOf("Array")}function array_push(dove,cosa){if(null==dove|| void 0==dove)return null;dove.push(cosa)}function array_shift(dove){return null==dove|| void 0==dove?null:dove.shift()}function array_reverse(dove){return null==dove|| void 0==dove?null:dove.reverse()}function array_pop(dove){return null==dove|| void 0==dove?null:dove.pop()}function array_intercept(a,b){if(null==a||null==b|| void 0==b|| void 0==a)return null;for(var out=new Array,i=0;i<a.length;i++)in_array(a[i],b)&&(out[out.length]=a[i]);return out}function array_merge(a,b){if(null==a|| void 0==a)return b;if(null==b|| void 0==b)return a;for(var out=a,i=0;i<b.length;i++)in_array(b[i],a)||(out[out.length]=b[i]);return out}function array_diff(a,b){if(null==a|| void 0==a)return null;if(null==b|| void 0==b)return a;for(var out=new Array,i=0;i<a.length;i++)in_array(a[i],b)||(out[out.length]=a[i]);return 0==out.length?null:out}function format_data(v){if(0==(v=str_replace(".","-",str_replace("/","-",v))).length)return"";var d=v.split("-");if(3!=d.length)return null;for(var i=0;i<3;i++)d[i]=parseInt(d[i],10);if(d[2]>1e3&&(i=d[0],d[0]=d[2],d[2]=i),d[0]<1e3||d[1]>12||d[2]>31||d[0]*d[1]*d[2]==0||((data=new Date).setFullYear(d[0]<1970?1970-d[0]:d[0],d[1]-1,d[2]),data.getDate()!=d[2]||data.getMonth()!=d[1]-1))return null;for(i=0;i<3;i++)d[i]=spad(d[i],"0",2);return d.join("-")}function format_ora(v){if(0==v.length)return"";var d=str_replace(".",":",str_replace("-",":",v)).split(":");if(d.length<2||d.length>3)return null;for(var i=0;i<d.length;i++)d[i]=parseInt(d[i]);if(v[1]>59||3==d.length&&v[2]>59)return null;for(i=0;i<d.length;i++)d[i]=spad(d[i],"0",2);return d.join(":")}function myGetValueCampo(id,cast,funzione,altro){var i=0;if("radio_hidden"==cast){var campi=document.getElementById(id+"_1").form.elements,trovato=!1;for(i=0;i<campi.length;i++)if(0===campi[i].id.indexOf(id+"_")&&campi[i].value){id=campi[i].id,trovato=!0;break}if(!trovato)return null}if("radio"==cast){var campi=document.getElementById(id+"_1").form.elements,trovato=!1;for(i=0;i<campi.length;i++)if(0===campi[i].id.indexOf(id+"_")&&campi[i].checked){id=campi[i].id,trovato=!0;break}if(!trovato)return null}if("select"==cast){var campo=document.getElementById(id);if(isUndefined(campo.selectedIndex)||null==campo.selectedIndex||isUndefined(campo.options[campo.selectedIndex]))return null;var trovato=!1;return campo.options[campo.selectedIndex].value}if("multicheck"==cast){campi=document.getElementById(id+"_1").form.elements,trovato=new Array;var j=0;for(i=0;i<campi.length;i++)0===campi[i].id.indexOf(id+"_")&&campi[i].checked&&(trovato[j++]=campi[i].value);return 0==j?null:trovato}if(document.getElementById(id).disabled)return null;if(null!=funzione&&null!=funzione()&&0==defaultDipendenze)throw"Exception";return"check"==cast?document.getElementById(id).checked?""==document.getElementById(id).value||document.getElementById(id).value:"":(v=trim(v=null===document.getElementById(id).value?"":""+document.getElementById(id).value),"int"==cast)?parseInt(v):"float"==cast?parseFloat(str_replace(altro,".",v)):"date"==cast?format_data(v+""):"hour"==cast?format_ora(v+""):v}function nascondi_campo(id,campo,stato){if(campo.id&&campo.id.lastIndexOf(id)>=0&&campo.id.lastIndexOf(id)==campo.id.length-id.length){try{campo.disabled=stato}catch(err){}return"TR"==campo.tagName?campo.style.display=!0==stato?"none":"table-row":"TD"==campo.tagName?campo.style.display=!0==stato?"none":"table-cell":"TABLE"==campo.tagName?campo.style.display=!0==stato?"none":"table":"DIV"==campo.tagName?campo.style.display=!0==stato?"none":"block":campo.style.display=!0==stato?"none":"inline",!0}return!1}function myFieldStatoCampi(campi,stato,modo,id){for(var campo,i=0;i<campi.length;i++){try{if((campo=document.getElementById(campi[i])).disabled=stato,"hasDatepicker"==campo.className&&(campo.nextSibling.style.display=!0==stato?"none":"inline"),0==campo.id.indexOf("indicatore_")||"file"==campo.type&&document.getElementById(campo.id+"_remove"))continue}catch(Exception){}try{stato&&campo.required&&(myRequiredFields[campo.id]=!0,campo.removeAttribute("required")),!stato&&myRequiredFields[campo.id]&&(campo.required=!0)}catch(Exception){}try{if("hidden"==modo){campo.style.display=!0==stato?"none":"inline";for(var parent=campo.parentNode,tentativi=0;parent&&"FORM"!=parent.tagName;)nascondi_campo(id,parent,stato)&&(tentativi=0),parent=parent.parentNode}campo.className.indexOf("hidden")>=0?campo.style.display="none":(1==campi.length&&campo.innerHTML||campo.src)&&(campo.style.display=!0==stato?"none":"inline")}catch(Exception){}}}Array.indexOf||(Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++)if(this[a]==b)return a;return -1}),myEventManager.start()}